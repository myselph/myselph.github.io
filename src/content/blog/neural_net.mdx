---
title: MNIST neural net
description: Neural Net for Handwritten Digit Recognition in JavaScript
pubDate: 'Jan 29 2026'
heroImage: '../../assets/mnist.png'
---

Draw a digit in the box below and click the "recognize" button.

<div style="display:flex;padding-bottom:50px;">
    <div>
        <div>
            <canvas id="can" width="280" height="280" style="top:10%;left:10%;border:2px solid;"></canvas>
        </div>
        <div>
            <div style="padding-bottom:5px;"><input type="checkbox" id="preprocessing"/><span style="margin-left:5px;">Display Preprocessing</span></div>
            <div style="padding-bottom:5px;"><input type="checkbox" id="scaleStrokeWidth" checked="true"/><span style="margin-left:5px;">Scale Stroke Width</span></div>
            <div style="float:left;padding-right:10px;"><input type="button" value="clear" id="clr" size="23" onclick="erase()"/></div>
            <div style="float:left;"><input type="button" value="recognize" id="recognize" size="23" onclick="recognize()"/></div>
            <div id="nnInput"></div>
        </div>
    </div>
    <div style="float:left;font-size:200px;margin-left:80px;" id="nnOut"></div>
</div>

### Details
This was a fun little demo I built around 2013 - I trained a simple feedforward neural network on the MNIST dataset
using SGD in Matlab (no autograd), then ported the weights and forward pass to Javascript to allow for in-browser digit recognition.
It was fairly easy to build even back then before PyTorch and TensorFlow, and feels rather quaint now, in the age of LLMs; your favorite AI coding assistant could probably build this page in a few minutes, training included. But over the years this simple demo saw quite a bit traffic, probably because of how prevalent MNIST was and, I assume, still is in the educational setting, so I'm keeping it around.

Some technical details - the net itself is a 784:200:10 fully connected net w/ sigmoid activations and biases, and the test set error was 1.92% (good enough for this demo and simple enough to port to Js - but convnets would do significantly better).
The input from the drawing canvas is preprocessed to more closely match the distribution of the training data:
After drawing a digit in the above area (280x280 pixels), the drawing is centered on its center of mass, then rescaled
to make its bounding box fit into a 200x200 pixels region (similar to how the MNIST dataset was created).
The image is then binned into a 28 x 28 representation and fed into the neural net.
Optionally (check the "Scale Stroke Width" checkbox), the digit is first redrawn with a scaled strokewidth
to counteract the linewidth-changing effect of the subsequent rescaling. This can help with very small digits;
the effect can be observed by checking the "Display Preprocessing" box.

<script is:inline src="/neural_net.js"></script>
